$schema: https://azuremlsdk2.blob.core.windows.net/latest/onlineEndpoint.schema.json
name: earnings-endpoint
type: online
auth_mode: aml_token
traffic:
  blue: 100
deployments:
  blue:
    code_configuration:
      code:
        local_path: ../tlaloc
      scoring_script: score.py
    model:
      name: earnings-model
      version: 1
      local_path: ../outputs/model
    environment: 
      name: earnings-env
      version: 1
      path: .
      conda_file: file:deploy_conda_deps.yml
      docker:
        image: mcr.microsoft.com/azureml/intelmpi2018.3-ubuntu16.04:20210301.v1
    app_insights_enabled: true
    scale_settings:
      instance_type: Standard_F4s_v2
      scale_type: manual
      instance_count: 1
      min_instances: 1
      max_instances: 1
    
